<!--
    03.Write a script that finds the maximal sequence of equal elements in an array.
        Example: {2, 1, 1, 2, 3, 3, 2, 2, 2, 1}  {2, 2, 2}.
-->

<!DOCTYPE html>
<html>
<head>
    <title>Maximal sequence of equal elements</title>
    <link href="styles/js-console.css" rel="stylesheet" />
    <style>
        input {
            width: 300px;
        }
    </style>
</head>
<body>
    <p>Sequence of numbers must be separated by comma and space: ", "</p>
    <p>If there are two equally long sequence, the first one will be shown!</p>
    <label for="sequence">Enter sequence of numbers: </label>
    <input type="text" id="sequence" />
    <br />
    <button onclick="findSequence()">Find max sequence</button>
    <div id="js-console"></div>
    <script src="scripts/js-console.js"></script>
    <script>
        // This function is called, when the button is clicked
        function findSequence() {
            var numSequence = jsConsole.read('#sequence'),
                separator = ', ',
                counter = 1,
                maxSequence = 1,
                maxSequenceNumber = 0,
                i = 1,
                curValue = 0,
                prevValue = 0;

            // Extract the numbers from the input data
            numSequence = numSequence.split(separator);

            curValue = parseInt(numSequence[0]);
            // Check if previous number is equal to the current, if not the counter is set to 1
            for (i = 1; i < numSequence.length; i++) {
                prevValue = curValue;
                curValue = parseInt(numSequence[i]);

                if (curValue === prevValue) {
                    counter++;

                    if (counter > maxSequence) {
                        maxSequence = counter;
                        maxSequenceNumber = numSequence[i];
                    }
                } else {
                    counter = 1;
                }
            }

            // Display the maximal equal sequence
            jsConsole.write('Max sequence length is: ');
            for (i = 0; i < maxSequence; i++) {
                jsConsole.write(maxSequenceNumber);

                if (i < maxSequence - 1) {
                    jsConsole.write(', ');
                }
            }
        }
    </script>
</body>
</html>