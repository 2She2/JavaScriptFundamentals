<!--
    09.Write a function for extracting all email addresses from given text.
       All substrings that match the format <identifier>@<host>…<domain> should be recognized as emails.
       Return the emails as array of strings.
-->

<!DOCTYPE html>
<html>
<head>
    <title>Replaces in a HTML document all a tags with URL.</title>
    <link href="styles/js-console.css" rel="stylesheet" />
    <style>
        textarea {
            width: 600px;
            height: 100px;
        }
    </style>
</head>
<body>
    <label for="text">Enter text: </label>
    <textarea id="text"></textarea>
    <br />
    <button onclick="findEmailAddresses()">Find e-mails</button>
    <div id="js-console"></div>
    <script src="scripts/js-console.js"></script>
    <script>
        // This function is called, when the button is clicked
        function findEmailAddresses() {
            var input = jsConsole.read('#text'),
                indexOfMonkey = -1,
                indexOfSpaceBeforeMonkey,
                indexOfSpaceAfterMonkey,
                emails = [],
                emailsIndexCounter = 0;

            // Find the spaces before and after symbol '@' and extract the text between them
            // This is Not a email validation. Here we just find email!
            while (true) {
                indexOfMonkey = input.indexOf('@', indexOfMonkey + 1);

                if (indexOfMonkey == -1) {
                    break;
                }

                indexOfSpaceBeforeMonkey = input.lastIndexOf(' ', indexOfMonkey);
                indexOfSpaceAfterMonkey = input.indexOf(' ', indexOfMonkey);

                if (indexOfSpaceAfterMonkey > -1) {
                    emails.push(input.substring(indexOfSpaceBeforeMonkey, indexOfSpaceAfterMonkey));
                } else {
                    emails.push(input.substring(indexOfSpaceBeforeMonkey, input.length));
                }
            }

            for (var email in emails) {
                jsConsole.writeLine(emails[email]);
            }
        }
    </script>
</body>

</html>