<!--
    03.Write a JavaScript function that finds how many times a substring is contained in a given text
       (perform case insensitive search).
       Example: The target substring is "in". The text is as follows:
            We are living in an yellow submarine. We don't have anything else.
            Inside the submarine is very tight. So we are drinking all the day.
            We will move out of it in 5 days.
       The result is: 9.
-->

<!DOCTYPE html>
<html>
<head>
    <title>Finds how many times a substring is contained in a given text</title>
    <link href="styles/js-console.css" rel="stylesheet" />
    <style>
        textarea {
            width: 400px;
            height: 100px;
        }
    </style>
</head>
<body>
    <label for="text">Enter text: </label>
    <textarea id="text"></textarea>
    <br />
    <label for="substring">Enter substring to look for: </label>
    <input type="text" id="substring" />
    <br />
    <button onclick="findSubstringAppearanceCount()">Check brackets</button>
    <div id="js-console"></div>
    <script src="scripts/js-console.js"></script>
    <script>
        // This function is called, when the button is clicked
        function findSubstringAppearanceCount() {
            var text = jsConsole.read('#text'),
                substring = jsConsole.read('#substring'),
                substringCounter = -1, // we start from "-1", because in "indexOf" we have to incremetn the index
                index = -1;

            // The is how we make "case insensitive"
            text = text.toLowerCase();
            substring = substring.toLowerCase();

            do {
                substringCounter++;
                index = text.indexOf(substring, index + 1);
            }
            while (index > -1)

            jsConsole.writeLine('"' + substring + '"' + ' appear ' + substringCounter + ' times');
        }
    </script>
</body>

</html>